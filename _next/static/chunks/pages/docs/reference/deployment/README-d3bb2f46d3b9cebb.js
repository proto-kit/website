(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9145],{6808:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/reference/deployment/README",function(){return i(5160)}])},5160:function(e,n,i){"use strict";i.r(n),i.d(n,{useTOC:function(){return useTOC}});var s=i(2676),r=i(4331),t=i(4080),o=i(9021);function useTOC(e){return[{value:"General",id:"general",depth:3},{value:"Currently available services:",id:"currently-available-services",depth:5},{value:"Usage",id:"usage",depth:3},{value:"Extentending deployment compose files",id:"extentending-deployment-compose-files",depth:3}]}n.default=(0,r.c)(function(e){let{toc:n=useTOC(e)}=e,i={a:"a",code:"code",h3:"h3",h5:"h5",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"@proto-kit/deployment"})," â€¢ ",(0,s.jsx)(i.a,{href:"globals",children:(0,s.jsx)(i.strong,{children:"Docs"})})]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.a,{href:"../../README",children:"Documentation"})," / @proto-kit/deployment"]}),"\n",(0,s.jsx)(i.h3,{id:n[0].id,children:n[0].value}),"\n",(0,s.jsx)(i.p,{children:"This package provides a suite of Dockerfiles and compose files to start protokit\nin a variety of settings and modes."}),"\n",(0,s.jsxs)(i.p,{children:["Everything is controlled via ",(0,s.jsx)(i.code,{children:"Environments"}),".\nThese are basically bundles of Appchains that are configured for different roles.\nEvery environment has a name and consists of multiple ",(0,s.jsx)(i.code,{children:"Configurations"}),"."]}),"\n",(0,s.jsxs)(i.p,{children:["The base image built from ",(0,s.jsx)(i.code,{children:"base/Dockerfile"})," executes any js file and passes in the environment and configuration name as arguments."]}),"\n",(0,s.jsxs)(i.p,{children:["Configuration happens via a ",(0,s.jsx)(i.code,{children:".env"})," file that specifies a few things:\nAmong those are the profiles that should executed, the DB connection string, and the entrypoints for the different images"]}),"\n",(0,s.jsx)(i.h5,{id:n[1].id,children:n[1].value}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Persistance with"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Postgres (profile: ",(0,s.jsx)(i.code,{children:"db"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:["Redis (profiles: ",(0,s.jsx)(i.code,{children:"db, worker"}),")"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["Sequencer: ",(0,s.jsx)(i.code,{children:"SEQUENCER_CONFIG"})," (profile: ",(0,s.jsx)(i.code,{children:"simple-sequencer"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["Worker: ",(0,s.jsx)(i.code,{children:"WORKER_CONFIG"})," (profile: ",(0,s.jsx)(i.code,{children:"worker"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Development-base: Usage for locally built starter-kit, see starter-kit documentation"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:n[2].id,children:n[2].value}),"\n",(0,s.jsxs)(i.p,{children:["A example of how to use it with a local framework repo can be found under the package ",(0,s.jsx)(i.code,{children:"stack"}),"\nThe configuration of that setup can be found under .env"]}),"\n",(0,s.jsxs)(i.p,{children:["Executing it works via ",(0,s.jsx)(i.code,{children:"docker-compose up --build"})," run in the ",(0,s.jsx)(i.code,{children:"stack"})," package."]}),"\n",(0,s.jsx)(i.h3,{id:n[3].id,children:n[3].value}),"\n",(0,s.jsxs)(i.p,{children:["Option 1: Using include and specifying a exported ",(0,s.jsx)(i.code,{children:"Environments"})," configuration"]}),"\n",(0,s.jsxs)(i.p,{children:["Option 2: Using extend and override the ",(0,s.jsx)(i.code,{children:"cmd"})]}),"\n",(0,s.jsx)(i.p,{children:"Be aware that including docker-compose files preserves their relationship in terms of relational paths, while extend does not (it behaves like copying the text into the parent file)"})]})},"/docs/reference/deployment/README",{filePath:"src/pages/docs/reference/deployment/README.md",pageMap:t.v,frontMatter:{title:"@proto-kit/deployment"},title:"@proto-kit/deployment"},"undefined"==typeof RemoteContent?useTOC:RemoteContent.useTOC)}},function(e){e.O(0,[4331,4080,9774,2888,179],function(){return e(e.s=6808)}),_N_E=e.O()}]);